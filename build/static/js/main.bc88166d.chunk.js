(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(23),r=a.n(c),s=a(14),i=a(4),l=a(6),o=a(7),j=a.n(o),u=a(20),d=a(11),b=a.n(d),p=Object(n.createContext)(),O=a(3),h="GET_CONTACTS",m="ADD_CONTACT",x="DELETE_CONTACT",f="SET_CURRENT",v="CLEAR_CURRENT",y="UPDATE_CONTACT",g="FILTER_CONTACTS",C="CLEAR_CONTACTS",w="CLEAR_FILTER",N="CONTACT_ERROR",E="SET_ALERT",k="REMOVE_ALERT",A="REGISTER_SUCCESS",R="REGISTER_FAIL",T="USER_LOADED",S="AUTH_ERROR",_="LOGIN_SUCCESS",L="LOGIN_FAIL",P="LOGOUT",F="CLEAR_ERRORS",I=function(e,t){switch(t.type){case T:return Object(O.a)(Object(O.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case A:case _:return Object(O.a)(Object(O.a)(Object(O.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case R:case S:case L:case P:return Object(O.a)(Object(O.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case F:return Object(O.a)(Object(O.a)({},e),{},{error:null});default:throw new Error("Unsupported type of: ".concat(t.type))}},U=function(e){e?(b.a.defaults.headers.common["x-auth-token"]=e,localStorage.setItem("token",e)):(delete b.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"))},D=a(0),q=function(){var e=Object(n.useContext)(p);return[e.state,e.dispatch]},G=function(){var e=Object(u.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/auth");case 3:a=e.sent,t({type:T,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:S});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/user",a);case 3:n=e.sent,t({type:A,payload:n.data}),G(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:R,payload:e.t0.response.data.msg});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/auth",a);case 3:n=e.sent,t({type:_,payload:n.data}),G(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:L,payload:e.t0.response.data.msg});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),H=function(e){return e({type:F})},J=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},a=Object(n.useReducer)(I,t),c=Object(l.a)(a,2),r=c[0],s=c[1];return U(r.token),r.loading&&G(s),Object(n.useEffect)((function(){U(r.token)}),[r.token]),Object(D.jsx)(p.Provider,{value:{state:r,dispatch:s},children:e.children})},W=Object(n.createContext)(),V=a(29),z=function(e,t){switch(t.type){case h:return Object(O.a)(Object(O.a)({},e),{},{contacts:t.payload});case m:return Object(O.a)(Object(O.a)({},e),{},{contacts:[t.payload].concat(Object(V.a)(e.contacts))});case y:return Object(O.a)(Object(O.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case x:return Object(O.a)(Object(O.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.payload}))});case C:return Object(O.a)(Object(O.a)({},e),{},{contacts:null,filtered:null,error:null,current:null});case f:return Object(O.a)(Object(O.a)({},e),{},{current:t.payload});case v:return Object(O.a)(Object(O.a)({},e),{},{current:null});case g:return Object(O.a)(Object(O.a)({},e),{},{filtered:e.contacts.filter((function(e){var a=e.name,n=e.email;return"".concat(a).concat(n).toLowerCase().includes(t.payload.toLowerCase())}))});case w:return Object(O.a)(Object(O.a)({},e),{},{filtered:null});case N:return Object(O.a)(Object(O.a)({},e),{},{error:t.payload});default:throw new Error("Unsupported type of: ".concat(t.type))}},K=function(){var e=Object(n.useContext)(W);return[e.state,e.dispatch]},Q=function(){var e=Object(u.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/contacts");case 3:a=e.sent,t({type:h,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:N,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/contacts",a);case 3:n=e.sent,t({type:m,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:N,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("/api/contacts/".concat(a));case 3:t({type:x,payload:a}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:N,payload:e.t0.response.msg});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.put("/api/contacts/".concat(a._id),a);case 3:n=e.sent,t({type:y,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:N,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),$=function(e){e({type:v})},ee=function(e){var t=Object(n.useReducer)(z,{contacts:null,current:null,filtered:null,error:null}),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(D.jsx)(W.Provider,{value:{state:c,dispatch:r},children:e.children})},te=function(e){var t=e.title,a=e.icon,c=q(),r=Object(l.a)(c,2),i=r[0],o=r[1],j=i.isAuthenticated,u=i.user,d=K()[1],b=Object(D.jsxs)(n.Fragment,{children:[Object(D.jsxs)("li",{children:["Hello ",u&&u.name]}),Object(D.jsxs)("li",{children:[Object(D.jsxs)(s.b,{onClick:function(){o({type:P}),function(e){e({type:C})}(d)},to:"/login",children:[Object(D.jsx)("i",{className:"fas fa-sign-out-alt"})," ",Object(D.jsx)("span",{className:"hide-sm",children:"Logout"})]}),Object(D.jsx)(s.b,{to:"/about",children:"About"})]})]}),p=Object(D.jsxs)(n.Fragment,{children:[Object(D.jsx)("li",{children:Object(D.jsx)(s.b,{to:"/register",children:"Register"})}),Object(D.jsx)("li",{children:Object(D.jsx)(s.b,{to:"/login",children:"Login"})})]});return Object(D.jsxs)("div",{className:"navbar bg-primary",children:[Object(D.jsx)("h1",{children:Object(D.jsxs)(s.b,{to:"/",children:[Object(D.jsx)("i",{className:a})," ",t]})}),Object(D.jsx)("ul",{children:j?b:p})]})};te.defaultProps={title:"Contact Saving ",icon:"fas fa-id-card-alt"};var ae=te,ne=a(96),ce=a(93),re=function(e){var t=e.contact,a=K()[1],n=t._id,c=t.name,r=t.email,s=t.phone,i=t.type;return Object(D.jsxs)("div",{className:"card bg-light",children:[Object(D.jsxs)("h3",{className:"text-primary text-left",children:[c," ",Object(D.jsx)("span",{style:{float:"right"},className:"badge "+("professional"===i?"badge-success":"badge-primary"),children:i.charAt(0).toUpperCase()+i.slice(1)})]}),Object(D.jsxs)("ul",{className:"list",children:[r&&Object(D.jsxs)("li",{children:[Object(D.jsx)("i",{className:"fas fa-envelope-open"})," ",r]}),s&&Object(D.jsxs)("li",{children:[Object(D.jsx)("i",{className:"fas fa-phone"})," ",s]})]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("button",{className:"btn btn-dark btn-sm",onClick:function(){return function(e,t){e({type:f,payload:t})}(a,t)},children:"Edit"}),Object(D.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){Y(a,n),$(a)},children:"Delete"})]})]})},se=a.p+"static/media/spinner.89906e12.gif",ie=function(){return Object(D.jsx)("img",{src:se,style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."})},le=function(){var e=K(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=a.contacts,s=a.filtered;return Object(n.useEffect)((function(){Q(c)}),[c]),null!==r&&0===r.length?Object(D.jsx)("h4",{children:"Please add a contact"}):Object(D.jsx)(n.Fragment,{children:null!==r?Object(D.jsx)(ne.a,{children:null!==s?s.map((function(e){return Object(D.jsx)(ce.a,{timeout:500,classNames:"item",children:Object(D.jsx)(re,{contact:e})},e._id)})):r.map((function(e){return Object(D.jsx)(ce.a,{timeout:500,classNames:"item",children:Object(D.jsx)(re,{contact:e})},e._id)}))}):Object(D.jsx)(ie,{})})},oe=a(21),je={name:"",email:"",phone:"",type:"personal"},ue=function(){var e=K(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=a.current,s=Object(n.useState)(je),i=Object(l.a)(s,2),o=i[0],j=i[1];Object(n.useEffect)((function(){j(null!==r?r:je)}),[r]);var u=o.name,d=o.email,b=o.phone,p=o.type,h=function(e){return j(Object(O.a)(Object(O.a)({},o),{},Object(oe.a)({},e.target.name,e.target.value)))},m=function(){$(c)};return Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),null===r?X(c,o).then((function(){return j(je)})):Z(c,o),m()},children:[Object(D.jsx)("h2",{className:"text-primary",children:r?"Edit Contact":"Add Contact"}),Object(D.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:u,onChange:h}),Object(D.jsx)("input",{type:"email",placeholder:"Email",name:"email",value:d,onChange:h}),Object(D.jsx)("input",{type:"text",placeholder:"Phone",name:"phone",value:b,onChange:h}),Object(D.jsx)("h5",{children:"Contact Type"}),Object(D.jsx)("input",{type:"radio",name:"type",value:"personal",checked:"personal"===p,onChange:h})," ","Personal"," ",Object(D.jsx)("input",{type:"radio",name:"type",value:"professional",checked:"professional"===p,onChange:h})," ","Professional",Object(D.jsx)("div",{children:Object(D.jsx)("input",{type:"submit",value:r?"Update Contact":"Add Contact",className:"btn btn-primary btn-block"})}),r&&Object(D.jsx)("div",{children:Object(D.jsx)("button",{className:"btn btn-light btn-block",onClick:m,children:"Clear"})})]})},de=function(){var e=K()[1];return Object(D.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(D.jsx)("input",{type:"text",placeholder:"Filter Contacts...",onChange:function(t){var a,n;""!==t.target.value?(a=e,n=t.target.value,a({type:g,payload:n})):function(e){e({type:w})}(e)}})})},be=function(){return Object(D.jsxs)("div",{className:"grid-2",children:[Object(D.jsx)("div",{children:Object(D.jsx)(ue,{})}),Object(D.jsxs)("div",{children:[Object(D.jsx)(de,{}),Object(D.jsx)(le,{})]})]})},pe=a(95),Oe=a(91),he=a(92),me=a(90),xe=function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:"About"}),Object(D.jsxs)("p",{children:["This is MERN stack Project called ",Object(D.jsx)("b",{children:"Contact-saving"})," Web application using"]}),Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:"Express Backend API"}),Object(D.jsx)("li",{children:"jwt authentication(JSON Web Token)"}),Object(D.jsx)("li",{children:"MongoDB / Mongoose"}),Object(D.jsx)("li",{children:"Password Encryption"}),Object(D.jsx)("li",{children:"React Hooks"}),Object(D.jsx)("li",{children:"Context API"}),Object(D.jsx)("li",{children:"Route Protection"})]}),Object(D.jsx)("div",{children:Object(D.jsx)(pe.a,{position:"relative",color:"primary",style:{background:"#cccccc",bottom:-300},children:Object(D.jsx)(me.a,{maxWidth:"md",children:Object(D.jsx)(Oe.a,{children:Object(D.jsx)(he.a,{variant:"body1",style:{color:"brown"},children:"\xa9 2021 Contact-Savings"})})})})})]})},fe=Object(n.createContext)(),ve=function(e){var t=Object(n.useContext)(fe),a=q(),c=Object(l.a)(a,2),r=c[0],s=c[1],o=r.error,j=r.isAuthenticated,u=t.setAlert;Object(n.useEffect)((function(){"User already exists"===o&&(u(o,"danger"),H(s))}),[o,j,e.history,u,s]);var d=Object(n.useState)({name:"",email:"",password:"",password2:""}),b=Object(l.a)(d,2),p=b[0],h=b[1],m=p.name,x=p.email,f=p.password,v=p.password2,y=function(e){return h(Object(O.a)(Object(O.a)({},p),{},Object(oe.a)({},e.target.name,e.target.value)))};return j?Object(D.jsx)(i.a,{to:"/"}):Object(D.jsxs)("div",{className:"form-container",children:[Object(D.jsxs)("h1",{children:["Account ",Object(D.jsx)("span",{className:"text-primary",children:"Register"})]}),Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===m||""===x||""===f?u("Please enter all fields","danger"):f!==v?u("Passwords do not match","danger"):M(s,{name:m,email:x,password:f})},children:[Object(D.jsxs)("div",{className:"form-group",children:[Object(D.jsx)("label",{htmlFor:"name",children:"Name"}),Object(D.jsx)("input",{id:"name",type:"text",name:"name",value:m,onChange:y,required:!0})]}),Object(D.jsxs)("div",{className:"form-group",children:[Object(D.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(D.jsx)("input",{id:"email",type:"email",name:"email",value:x,onChange:y,required:!0})]}),Object(D.jsxs)("div",{className:"form-group",children:[Object(D.jsx)("label",{htmlFor:"password",children:"Password"}),Object(D.jsx)("input",{id:"password",type:"password",name:"password",value:f,onChange:y,required:!0,minLength:"6"})]}),Object(D.jsxs)("div",{className:"form-group",children:[Object(D.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(D.jsx)("input",{id:"password2",type:"password",name:"password2",value:v,onChange:y,required:!0,minLength:"6"})]}),Object(D.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary btn-block"})]})]})},ye=function(){var e=Object(n.useContext)(fe).setAlert,t=q(),a=Object(l.a)(t,2),c=a[0],r=a[1],s=c.error,o=c.isAuthenticated;Object(n.useEffect)((function(){"Invalid Credentials"===s&&(e(s,"danger"),H(r))}),[s,o,r,e]);var j=Object(n.useState)({email:"",password:""}),u=Object(l.a)(j,2),d=u[0],b=u[1],p=d.email,h=d.password,m=function(e){return b(Object(O.a)(Object(O.a)({},d),{},Object(oe.a)({},e.target.name,e.target.value)))};return o?Object(D.jsx)(i.a,{to:"/"}):Object(D.jsxs)("div",{className:"form-container",children:[Object(D.jsxs)("h1",{children:["Account ",Object(D.jsx)("span",{className:"text-primary",children:"Login"})]}),Object(D.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===p||""===h?e("Please fill in all fields","danger"):B(r,{email:p,password:h})},children:[Object(D.jsxs)("div",{className:"form-group",children:[Object(D.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(D.jsx)("input",{id:"email",type:"email",name:"email",value:p,onChange:m,required:!0})]}),Object(D.jsxs)("div",{className:"form-group",children:[Object(D.jsx)("label",{htmlFor:"password",children:"Password"}),Object(D.jsx)("input",{id:"password",type:"password",name:"password",value:h,autoComplete:"on",onChange:m,required:!0})]}),Object(D.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary btn-block"})]})]})},ge=function(){var e=Object(n.useContext)(fe);return e.alerts.length>0&&e.alerts.map((function(e){return Object(D.jsxs)("div",{className:"alert alert-".concat(e.type),children:[Object(D.jsx)("i",{className:"fas fa-info-circle"})," ",e.msg]},e.id)}))},Ce=function(e){var t=e.component,a=q(),n=Object(l.a)(a,1)[0],c=n.isAuthenticated;return n.loading?Object(D.jsx)(ie,{}):c?Object(D.jsx)(t,{}):Object(D.jsx)(i.a,{to:"/login"})},we=a(94),Ne=function(e,t){switch(t.type){case E:return[].concat(Object(V.a)(e),[t.payload]);case k:return e.filter((function(e){return e.id!==t.payload}));default:return e}},Ee=function(e){var t=Object(n.useReducer)(Ne,[]),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(D.jsx)(fe.Provider,{value:{alerts:c,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=Object(we.a)();r({type:E,payload:{msg:e,type:t,id:n}}),setTimeout((function(){return r({type:k,payload:n})}),a)}},children:e.children})},ke=(a(70),function(){return Object(D.jsx)(J,{children:Object(D.jsx)(ee,{children:Object(D.jsx)(Ee,{children:Object(D.jsx)(s.a,{children:Object(D.jsxs)(n.Fragment,{children:[Object(D.jsx)(ae,{}),Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)(ge,{}),Object(D.jsxs)(i.d,{children:[Object(D.jsx)(i.b,{path:"/",element:Object(D.jsx)(Ce,{component:be})}),Object(D.jsx)(i.b,{path:"about",element:Object(D.jsx)(xe,{})}),Object(D.jsx)(i.b,{path:"register",element:Object(D.jsx)(ve,{})}),Object(D.jsx)(i.b,{path:"login",element:Object(D.jsx)(ye,{})})]})]})]})})})})})});r.a.render(Object(D.jsx)(ke,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.bc88166d.chunk.js.map